<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1> Sequencial Callback Function </h1>
    <hr>
    <script>

        const connection=1
        const has_data=0
        const display_data=1

        function getConected(){

            return new Promise((resolve,reject)=>{

                setTimeout(()=>{
                    if(connection){
                        resolve("task 1: get connection...")
                
                    }
                    else{
                        reject("connection failed...")
                    }
                    
                },3000)

            })
           
        }

        function getData(){

            return new Promise((resolve,reject)=>{

            setTimeout(()=>{
                if(has_data){
                resolve("task 2: Fetch Data...")
                }
                else{
                    reject("task 2: Sorry...No data...")
                }

            },6000)

            })
        }

        function displayData(){
            return new Promise((resolve,reject)=>{

                setTimeout(()=>{
                    if(display_data){
                        resolve("task 3: Display Data...")
                    }
                    else{
                         reject("task 3: Sorry...Display Error....")
                    }

                },3000)

        })
        }

        async function internetBrowsing(){

            try{
            console.log("sequencial execution of tasks...")
   
            const res1= await getConected()
            console.log(res1)
            const res2=await getData()
            console.log(res2)
            const display=await displayData()
            console.log(display)

            console.log("transaction completed...")
            }
            catch(err){
                console.log(err)
            }
        }
       

        internetBrowsing()


    </script>
</body>
</html>